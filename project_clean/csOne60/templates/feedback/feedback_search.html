{% extends "base.html" %}

<!-- {% block title %}
Feedback Search Results
{% endblock %} -->

{% block content %}
<h2>Feedback Search Results for {{ course.name }}</h2>

<table>
    <thead>
        <tr>
            <th>Student</th>
            <th>Feedback</th>
            <th>Actions</th> <!-- New column for buttons -->
        </tr>
    </thead>
    <tbody>
        {% for f in feedbacks %}
        <tr>
            <td>{{ f.student.f_name }} {{ f.student.l_name }}</td>
            <td>
                {% if f.feedback %}
                    {{ f.feedback }}
                {% else %}
                    <em>No feedback generated yet.</em>
                {% endif %}
            </td>
            <td>
                <a href="{% url 'create_feedback' course.course_id f.student.student_id %}" class="btn-small">
                    {% if f.feedback %}
                        Edit Feedback
                    {% else %}
                        Add Feedback
                    {% endif %}
                </a>
            </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="3">No students found matching the search.</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% endblock %}
